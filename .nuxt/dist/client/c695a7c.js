(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{617:function(e,t,r){var content=r(678);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(16).default)("312c858d",content,!0,{sourceMap:!1})},677:function(e,t,r){"use strict";r(617)},678:function(e,t,r){var o=r(15)((function(i){return i[1]}));o.push([e.i,'.grey[data-v-7f96be92],.text-h5[data-v-7f96be92]{font-family:"Noto Sans Lao"}',""]),o.locals={},e.exports=o},716:function(e,t,r){"use strict";r.r(t);var o=r(536),n=r(563),l=r(241),c=r(696),d=r(565),f=r(199),m=r(236),_=r(156),v=r(238),h=r(76),x=r(56),D=r(549),y=r(85),k=r(587),w=r(38),$=(r(139),r(47),r(30),r(4),r(8),r(595)),M=r(693),R={mixins:[$.default,M.default],middleware:"auths",data:function(){return{dialog:!1,dialogMessage:!1,isloading:!1,message:"",valid:!0,name:"",rules:{nameRule:[function(e){return!!e||"Name is required"},function(e){return e&&e.length<=10||"Name must be less than 10 characters"}]},category:[],formData:{pro_category:1001,pro_id:null,pro_name:"",pro_price:0,pro_desc:"",pro_status:!1}}},mounted:function(){this.fetchCategory(),console.log("Mounted: "),this.$route.params.id&&this.fetchProId(this.$route.params.id)},watch:{message:function(e){this.dialogMessage=null!=e}},methods:{changeId:function(){this.product_id=this.$route.params.id},switchtoproduct:function(){this.$router.push("/admin/product/11")},validate:function(){this.$refs.form.validate()},reset:function(){this.$refs.form.reset()},resetValidation:function(){this.$refs.form.resetValidation()},fetchCategory:function(){var e=this;return Object(w.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.get("category_f").then((function(t){console.log("=>category"+t.data),e.category=t.data.map((function(e){return{categ_id:e.categ_id,categ_name:e.categ_name,categ_desc:e.categ_desc}}))})).catch((function(e){console.log("error: "+e.response.data)}));case 2:console.log(e.category.length),console.log("CAT ID: "+e.category[0].categ_id);case 4:case"end":return t.stop()}}),t)})))()},fetchProId:function(e){var t=this;return Object(w.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.isloading=!0,r.next=3,t.$axios.get("/product_f_id",{pro_id:e}).then((function(e){console.log("Product ID "+e.data)})).catch((function(e){t.message=e,console.log("Error: "+e)}));case 3:t.isloading=!1;case 4:case"end":return r.stop()}}),r)})))()},uploadFiles:function(e){var t=this;return Object(w.a)(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Files length: "+t.files.length),console.log("Files name1: "+t.files[0].name),console.log("Files name2: "+t.files[1].name),t.isloading=!0,(r=new FormData).append("FORM",JSON.stringify(t.formData)),t.files.forEach((function(element){r.append("files",element)})),e.next=9,t.$axios.post("uploadmulti",r,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){t.isloading=!1,t.message=e.data})).catch((function(e){t.isloading=!1,t.message=e.response.data}));case 9:case"end":return e.stop()}}),e)})))()}}},C=(r(677),r(74)),component=Object(C.a)(R,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"text-center"},[t("h1",[e._v("ID: "+e._s(this.$route.params.id))]),e._v(" "),t("h1",[e._v("PRODUCT ID: "+e._s(e.product_id))]),e._v(" "),t(n.a,{attrs:{"max-width":"300px",persistent:""},model:{value:e.dialogMessage,callback:function(t){e.dialogMessage=t},expression:"dialogMessage"}},[t("dialog-classic-message",{attrs:{message:e.message},on:{closedialog:function(t){e.message=null}}})],1),e._v(" "),t(n.a,{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:e.isloading,callback:function(t){e.isloading=t},expression:"isloading"}},[t("loading-indicator")],1),e._v(" "),t(d.a,{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[t(x.a,{attrs:{items:e.category,"item-value":function(e){return e.categ_id},"item-text":function(e){return e.categ_id+" - "+e.categ_name},rules:[function(e){return!!e||"Item is required"}],label:"ປະເພດສິນຄ້າ",required:""},model:{value:e.formData.pro_category,callback:function(t){e.$set(e.formData,"pro_category",t)},expression:"formData.pro_category"}}),e._v(" "),t(y.a,{attrs:{counter:10,rules:e.rules.nameRule,label:"ໄອດີສິນຄ້າ",required:""},model:{value:e.formData.pro_id,callback:function(t){e.$set(e.formData,"pro_id",t)},expression:"formData.pro_id"}}),e._v(" "),t(y.a,{attrs:{counter:10,rules:e.rules.nameRule,label:"ຊື້ສິນຄ້າ",required:""},model:{value:e.formData.pro_name,callback:function(t){e.$set(e.formData,"pro_name",t)},expression:"formData.pro_name"}}),e._v(" "),t(y.a,{attrs:{counter:10,rules:e.rules.nameRule,label:"ລາຄາ",required:""},model:{value:e.formData.pro_price,callback:function(t){e.$set(e.formData,"pro_price",t)},expression:"formData.pro_price"}}),e._v(" "),t(k.a,{attrs:{outlined:"",name:"input-7-4",counter:"5",label:"ຄຳອະທິບາຍ",value:"abc"},model:{value:e.formData.pro_desc,callback:function(t){e.$set(e.formData,"pro_desc",t)},expression:"formData.pro_desc"}}),e._v(" "),t(c.a,{ref:"filesfield",attrs:{rules:e.rules.imageRule,multiple:"",accept:"image/png, image/jpeg, image/bmp",placeholder:"Pick an avatar","prepend-icon":"mdi-camera",label:"ຮູບພາບຫລາຍພາບ"},on:{change:e.onFilesChange}}),e._v(" "),e._e(),e._v(" "),t("div",[t(m.a,{attrs:{"three-line":""}},[e._l(e.imagesPreviewURL,(function(r,n){return[t(_.a,{key:n},[t(v.a,[t(f.a,{attrs:{src:r.IMG_URL}})],1),e._v(" "),t(h.a,[t(h.c,{domProps:{innerHTML:e._s(r.NAME)}}),e._v(" "),t(h.b,{domProps:{innerHTML:e._s(r.isvalid)}})],1),e._v(" "),t(D.a),e._v(" "),t(o.a,{attrs:{text:"",color:"blue darken-1"},on:{click:function(t){return t.preventDefault(),e.deleteFile(n)}}},[t("i",{staticClass:"fas fa-trash-alt"})])],1),e._v(" "),t(l.a,{key:n+r.NAME})]}))],2)],1),e._v(" "),t(o.a,{staticClass:"mr-4",attrs:{disabled:!e.valid,color:"success"},on:{click:e.validate}},[e._v("\n      ກວດສອບຂໍ້ມູນ\n    ")]),e._v(" "),t(o.a,{staticClass:"mr-4",attrs:{color:"error"},on:{click:e.reset}},[e._v(" ລ້າງຂໍ້ມູນ ")]),e._v(" "),t(o.a,{attrs:{color:"warning"},on:{click:e.resetValidation}},[e._v(" ບັນທຶກ ")]),e._v(" "),t(o.a,{attrs:{color:"warning"},on:{click:function(t){return t.preventDefault(),e.uploadFiles.apply(null,arguments)}}},[e._v(" upload files ")]),e._v(" "),t(o.a,{attrs:{color:"warning"},on:{click:function(t){return t.preventDefault(),e.switchtoproduct.apply(null,arguments)}}},[e._v("\n      Product id\n    ")])],1),e._v(" "),t("nuxt-child")],1)}),[],!1,null,"7f96be92",null);t.default=component.exports;installComponents(component,{DialogClassicMessage:r(557).default,LoadingIndicator:r(554).default})}}]);